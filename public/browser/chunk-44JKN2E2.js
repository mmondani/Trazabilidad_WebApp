import{a as j,b as h,d as B,e as G,f as L,h as C,i as H,k as V,l as q,o as Q,p as U,q as Y,r as $,u as K,v as Z,w as J,x as X,y as ee,z as re}from"./chunk-3G7TJYHY.js";import{P,Y as N,Z as O,_ as A,ba as z,c as x,ca as R,da as W,ea as ie,k as T,n as b,o as E,p as D}from"./chunk-PJCGEGZQ.js";import"./chunk-AESYL7IM.js";import{Bc as I,Cb as y,Ec as f,H as w,Mb as m,Nb as k,Sb as F,Ua as t,Va as g,_ as d,ia as _,ja as p,jb as u,lb as n,nb as v,ub as o,vb as c,wb as l,yc as M}from"./chunk-DDVAE6N3.js";var ce=()=>({width:"100%",height:"100%","align-content":"center"});function se(r,e){r&1&&(o(0,"mat-error"),m(1," Campo requerido "),c())}function me(r,e){r&1&&(o(0,"mat-error"),m(1," Ingres\xE1 una direcci\xF3n de email v\xE1lida "),c())}function le(r,e){r&1&&(o(0,"mat-error"),m(1," Campo requerido "),c())}var te=(()=>{let e=class e{constructor(s,a,i){this.auth=s,this.router=a,this.alertDialogService=i,this.hide=!0,this.loading=!1}ngOnInit(){this.auth.user.pipe(w(1)).subscribe(s=>{s&&this.router.navigate(["/dashboard"])}),this.loginForm=new L({emailFormControl:new C(null,[h.required,h.email]),passwordFormControl:new C(null,[h.required])})}onSubmit(){this.loading=!0,this.auth.login(this.loginForm.value.emailFormControl,this.loginForm.value.passwordFormControl).subscribe(s=>{this.loading=!1,this.alertDialogService.hideDialog(),this.loginForm.reset(),this.router.navigate(["/dashboard"])},s=>{this.loading=!1,this.alertDialogService.showDialog({message:s,yesText:"Aceptar",yesStyle:"outline",yesColor:"primary",noEnable:!1,yesClick:this.onDialogClose.bind(this)}),this.loginForm.reset()})}onDialogClose(){this.alertDialogService.hideDialog()}};e.\u0275fac=function(a){return new(a||e)(g(E),g(T),g(D))},e.\u0275cmp=_({type:e,selectors:[["app-login-page"]],decls:25,vars:14,consts:[["cols","12","rowHeight","100vh"],[3,"colspan"],[3,"ngStyle"],[2,"border","1px solid lightgray","border-radius","5px","text-align","center"],[2,"padding","5%"],["src","../../assets/img/x28_logo.png",2,"margin","20px","width","50%"],[3,"ngSubmit","formGroup"],["appearance","outline",2,"width","100%","margin-top","70px"],["type","email","matInput","","formControlName","emailFormControl","placeholder","email@x-28.com"],[4,"ngIf"],["appearance","outline",2,"width","100%","margin-top","20px"],["matInput","","formControlName","passwordFormControl",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",2,"width","100%","margin-top","20px","min-height","50px",3,"disabled"]],template:function(a,i){a&1&&(o(0,"mat-grid-list",0),l(1,"mat-grid-tile",1),o(2,"mat-grid-tile",1)(3,"div",2)(4,"div",3)(5,"div",4),l(6,"img",5),o(7,"form",6),y("ngSubmit",function(){return i.onSubmit()}),o(8,"mat-form-field",7)(9,"mat-label"),m(10,"Email"),c(),l(11,"input",8),u(12,se,2,0,"mat-error",9)(13,me,2,0,"mat-error",9),c(),o(14,"mat-form-field",10)(15,"mat-label"),m(16,"Password"),c(),l(17,"input",11),o(18,"button",12),y("click",function(){return i.hide=!i.hide}),o(19,"mat-icon"),m(20),c()(),u(21,le,2,0,"mat-error",9),c(),o(22,"button",13),m(23," Ingresar "),c()()()()()(),l(24,"mat-grid-tile",1),c()),a&2&&(t(),n("colspan",4),t(),n("colspan",4),t(),n("ngStyle",F(13,ce)),t(4),n("formGroup",i.loginForm),t(5),n("ngIf",!i.loginForm.get("emailFormControl").valid&&i.loginForm.get("emailFormControl").touched&&i.loginForm.get("emailFormControl").errors.required),t(),n("ngIf",!i.loginForm.get("emailFormControl").valid&&i.loginForm.get("emailFormControl").touched&&i.loginForm.get("emailFormControl").errors.email),t(4),n("type",i.hide?"password":"text"),t(3),k(i.hide?"visibility_off":"visibility"),t(),n("ngIf",!i.loginForm.get("emailFormControl").valid&&i.loginForm.get("emailFormControl").touched&&i.loginForm.get("emailFormControl").errors.required),t(),v("spinner",i.loading),n("disabled",!i.loginForm.valid||i.loading),t(2),n("colspan",4))},dependencies:[M,I,R,z,K,U,Y,$,J,N,O,ee,H,j,B,G,V,q],styles:['@keyframes _ngcontent-%COMP%_spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:_ngcontent-%COMP%_spinner .8s linear infinite}']});let r=e;return r})();var de=[{path:"",component:te}],oe=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=p({type:e}),e.\u0275inj=d({imports:[b.forChild(de),b]});let r=e;return r})();var ae=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=p({type:e}),e.\u0275inj=d({imports:[f,P]});let r=e;return r})();var cr=(()=>{let e=class e{};e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=p({type:e}),e.\u0275inj=d({imports:[f,oe,W,Z,X,A,re,Q,x,ie,ae]});let r=e;return r})();export{cr as LoginModule};
